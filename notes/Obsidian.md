Around 04/16/2024, after hearing again somewhere on the Internet that [[Roam]] is dead, I decided to try some alternatives, and time around, I focused on [Obsidian](https://obsidian.md): although I am not paranoid about my notes being stored in the cloud, and actually prefer them to be, since it gets me the ability to synchronize them across my devices and also guarantees that I am not going to lose them, I thought that if I set up backup to Google Drive, Obsidian could work - although I won't be able to use it from my phone unless I pay for [Obsidian Sync](https://obsidian.md/sync).

One of the reasons for the switch is: I want to be able to publish my notes easily, in a way that preserves internal links between them ([Digital Garden](https://maggieappleton.com/garden-history)?), and [[Roam]] doesn't let ;)
 
[[Obsidian]] sells its own [Obsidian Publish](https://obsidian.md/publish), but - although Obsidian Publish and Obsidian Sync together cost less than [[Roam]] - I decided to explore other publishing options (Obsidian Publish supports custom domains only at CloudFlare or some such).

I looked (briefly) at [Obsidian digital garden](https://github.com/oleeskild/Obsidian-digital-garden), [Quartz](https://quartz.jzhao.xyz/) and [PublishKit](https://publishkit.dev/), but decided to see first if I can add my notes to my existing website http://dub.podval.org, generated by Jekyll and hosted by GitHub pages.

To move my notes from [[Roam]], I installed [Importer](https://help.obsidian.md/Plugins/Importer) plugin in Obsidian and followed the export/import [instructions](https://help.obsidian.md/import/roam). I did not use block transclusion nor back-link filtering in [[Roam]], so the losses were minimal: code blocks needed touch-up; '#'-links, which in [[Roam]] are equivalent to normal double-bracket wiki-links, in Obsidian are tags, so I need to decide which ones to convert to page links, and which ones to use as tags.

I installed [GitHub Publisher](https://obsidian-publisher.netlify.app/) Obsidian plugin, configured it to use the GitHub [repository](https://github.com/dubinsky/dubinsky) where the sources of my website reside - and it worked: I could publish, unpublish and synchronize my notes, and the plugin would create and merge a pull request with the corresponding change in my website repository.

Then the thought occurred to me: why don't I host the notes themselves in the repository with my website and blog? This way, I do not need any separate backup to Google Drive, and everything is kept together, modified together (although instead of using the plugin I need to push the changes to GitHub in a more traditional way) and published together (those notes that it does not make sense to publish I moved to a separate,private repository).

Now, with the notes published on my website, I wanted a list of them to be published too - otherwise, nobody can find the individual notes ;) - and [found](https://talk.jekyllrb.com/t/directory-listing-plugin-help/5513/4) a solution: [fractal/_includes/structure/page-list.html](https://github.com/MichaelCurrin/fractal/blob/master/_includes/structure/page-list.htm); thank you, [Michael Currin]( https://github.com/MichaelCurrin)!

(Aside: Page list generation code uses page title as the link text, but the notes I imported from [[Roam]] did not have any front-matter, and thus - no title! To remedy this, I used [Linter](https://github.com/platers/obsidian-linter) Obsidian plugin to set the title property in each note to its file name. Since the plugin keeps the title property synchronized to the file name, I can not change the titles of the pages with the page lists (`index.md`), so I can not add those pages to Jekyll's list`header_pages` in the `_config.yml`.  But, with `item.title` replaced with `item.name | remove: ".md"`, the code produces desired result without the title in the front-matter and without the Linter plugin (as long as the sort order is adjusted to look at the `name` also) :))

To store Obsidian notes and publish them in the same GitHub repository is an attractive approach, but with it, the only thing between the Obsidian notes and GitHub pages is Jekyll, and of course, it does not understand wiki-links like [[Obsidian]]...

There is a Jekyll plugin for that: [Jekyll Wikirefs](https://github.com/wikibonsai/jekyll-wikirefs), and although it is not one of the approved plugins for the restricted GitHub Pages Jekyll, since I recently switched (and soon everyone will switch) to running Jekyll using GitHub Actions workflow, it is no longer restricted! But, the plugin relies on page titles being present in the front-matter, while I'd rather use the file name (at least for now)...
I found a piece of (Liquid) code that does what needs to be done with the wiki-links: https://github.com/jhvanderschee/brackettest; I had to tweak it a bit, since it also wanted to use the title from the front matter etc., but it works!

Now I have my blog and my notes in the same repository and in the same Obsidian vault; let's see if I can cross-link and group by tags all this stuff and merge everything; for instance, this text is more of a blog post...

TODO
- Pagination for page lists.
- MathJax: plugin?
- Tags: plugin? Why some tags are blue?
- move "types" under "notes"?

Zotero Integration:
- https://github.com/vanakat/zotero-link
- https://github.com/windingwind/zotero-better-notes
